package com.sound{		import flash.display.Graphics;	import flash.display.Sprite;	import flash.events.Event;	import flash.media.SoundMixer;	import flash.utils.ByteArray;	public class Waveform extends Sprite {		private var _bytes:ByteArray = new ByteArray();		private var _fft:Boolean;		private var _g:Graphics;		private var positionMarota:int;		private var corLine1:uint;		private var corLine2:uint;		public function Waveform(fft:Boolean=false, posicao:int = 0, corDaLinha1:uint = 0, corDaLinha2:uint = 0) {			_fft = fft;			_g = this.graphics;						//Caio params			positionMarota = posicao;			corLine1 = corDaLinha1;			corLine2 = corDaLinha2;						this.addEventListener(Event.ENTER_FRAME, onVisualize,								  false, 0, true);		}		private function onVisualize(evt:Event):void {			SoundMixer.computeSpectrum(_bytes, _fft);			_g.clear();			plotWaveform(corLine1, positionMarota);			plotWaveform(corLine2, positionMarota+5);		}				private function plotWaveform(col:uint, chanBaseline:Number):void {			_g.lineStyle(1, col);			_g.beginFill(col, 0.5);			_g.moveTo(0, chanBaseline);			for (var i:Number = 0; i < 256; i++) {				_g.lineTo(i, chanBaseline - (_bytes.readFloat() * 50));			}			_g.lineTo(i, chanBaseline);			_g.endFill();		}	}}